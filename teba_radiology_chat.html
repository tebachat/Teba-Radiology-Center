<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù…Ø±ÙƒØ² Ø·ÙŠØ¨Ø© Ù„Ù„Ø£Ø´Ø¹Ø© - TRC CHAT</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .header {
            background: linear-gradient(135deg, #8B0040 0%, #600030 100%);
            color: white;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .header h1 {
            font-size: 2em;
            margin-bottom: 5px;
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .container {
            flex: 1;
            display: flex;
            max-width: 1400px;
            width: 100%;
            margin: 20px auto;
            gap: 20px;
            padding: 0 20px;
        }

        .sidebar {
            width: 320px;
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
            overflow-y: auto;
            max-height: calc(100vh - 200px);
        }

        .category {
            margin-bottom: 25px;
        }

        .category-header {
            color: #8B0040;
            font-size: 1.1em;
            font-weight: bold;
            margin-bottom: 12px;
            padding: 10px;
            background: linear-gradient(135deg, #fff5f8 0%, #ffe8f0 100%);
            border-radius: 8px;
            border-right: 4px solid #8B0040;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .team-member {
            display: flex;
            align-items: center;
            padding: 12px;
            margin-bottom: 8px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid transparent;
        }

        .team-member:hover {
            background: #f0f0f0;
            border-color: #8B0040;
            transform: translateX(-3px);
        }

        .team-member.active {
            background: linear-gradient(135deg, #8B0040 0%, #600030 100%);
            color: white;
            transform: translateX(-5px);
        }

        .avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            margin-left: 12px;
            font-size: 1.1em;
            color: white;
            flex-shrink: 0;
        }

        .team-member.active .avatar {
            background: white;
            color: #8B0040;
        }

        .member-info {
            flex: 1;
            min-width: 0;
        }

        .member-name {
            font-weight: bold;
            margin-bottom: 3px;
            font-size: 0.95em;
        }

        .member-role {
            font-size: 0.8em;
            opacity: 0.7;
        }

        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: #4ade80;
            margin-right: 8px;
            flex-shrink: 0;
            box-shadow: 0 0 0 3px rgba(74, 222, 128, 0.2);
        }

        .chat-container {
            flex: 1;
            background: white;
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            box-shadow: 0 8px 16px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .chat-header {
            background: linear-gradient(135deg, #8B0040 0%, #600030 100%);
            color: white;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .chat-header-info {
            display: flex;
            align-items: center;
        }

        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: #f9f9f9;
        }

        .message {
            display: flex;
            margin-bottom: 20px;
            animation: slideIn 0.3s ease;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .message.sent {
            flex-direction: row-reverse;
        }

        .message-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            margin: 0 10px;
            flex-shrink: 0;
        }

        .message.sent .message-avatar {
            background: linear-gradient(135deg, #8B0040, #600030);
        }

        .message-content {
            max-width: 60%;
            background: white;
            padding: 12px 16px;
            border-radius: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .message.sent .message-content {
            background: linear-gradient(135deg, #8B0040, #600030);
            color: white;
        }

        .message-time {
            font-size: 0.75em;
            opacity: 0.6;
            margin-top: 5px;
        }

        .chat-input-container {
            padding: 20px;
            background: white;
            border-top: 1px solid #e0e0e0;
            display: flex;
            gap: 10px;
        }

        .chat-input {
            flex: 1;
            padding: 12px 20px;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            font-size: 1em;
            outline: none;
            transition: all 0.3s;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        .chat-input:focus {
            border-color: #8B0040;
        }

        .send-btn {
            background: linear-gradient(135deg, #8B0040, #600030);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            font-size: 1em;
        }

        .send-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(139, 0, 64, 0.3);
        }

        .send-btn:active {
            transform: translateY(0);
        }

        .welcome-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            color: #666;
            text-align: center;
            padding: 40px;
        }

        .welcome-icon {
            font-size: 4em;
            margin-bottom: 20px;
            color: #8B0040;
        }

        .welcome-screen h2 {
            color: #8B0040;
            margin-bottom: 10px;
        }

        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                max-height: 300px;
            }

            .message-content {
                max-width: 80%;
            }
        }

        /* Scrollbar styling */
        .sidebar::-webkit-scrollbar,
        .chat-messages::-webkit-scrollbar {
            width: 8px;
        }

        .sidebar::-webkit-scrollbar-track,
        .chat-messages::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }

        .sidebar::-webkit-scrollbar-thumb,
        .chat-messages::-webkit-scrollbar-thumb {
            background: #8B0040;
            border-radius: 10px;
        }

        .sidebar::-webkit-scrollbar-thumb:hover,
        .chat-messages::-webkit-scrollbar-thumb:hover {
            background: #600030;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸ¥ Ù…Ø±ÙƒØ² Ø·ÙŠØ¨Ø© Ù„Ù„Ø£Ø´Ø¹Ø©</h1>
        <p>TRC CHAT - Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ù…Ø±ÙƒØ²</p>
    </div>

    <div class="container">
        <div class="sidebar">
            <div id="teamCategories"></div>
        </div>

        <div class="chat-container">
            <div class="chat-header" id="chatHeader">
                <div class="chat-header-info">
                    <div class="avatar" id="headerAvatar">ğŸ‘¤</div>
                    <div style="margin-right: 15px;">
                        <div style="font-weight: bold; font-size: 1.1em;" id="headerName">Ø§Ø®ØªØ± Ø¹Ø¶Ùˆ Ù„Ù„Ù…Ø­Ø§Ø¯Ø«Ø©</div>
                        <div style="font-size: 0.9em; opacity: 0.8;" id="headerRole"></div>
                    </div>
                </div>
                <div style="font-size: 0.9em;" id="headerStatus"></div>
            </div>

            <div class="chat-messages" id="chatMessages">
                <div class="welcome-screen">
                    <div class="welcome-icon">ğŸ’¬</div>
                    <h2>Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ùƒ ÙÙŠ Ù†Ø¸Ø§Ù… Ø§Ù„Ø¯Ø±Ø¯Ø´Ø©</h2>
                    <p>Ø§Ø®ØªØ± Ø£Ø­Ø¯ Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„ÙØ±ÙŠÙ‚ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø­Ø§Ø¯Ø«Ø©</p>
                </div>
            </div>

            <div class="chat-input-container">
                <input type="text" class="chat-input" id="messageInput" placeholder="Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ù‡Ù†Ø§..." disabled>
                <button class="send-btn" id="sendBtn" disabled>Ø¥Ø±Ø³Ø§Ù„ ğŸ“¤</button>
            </div>
        </div>
    </div>

    <script>
        const teamCategories = [
            {
                name: 'ğŸ‘¨â€âš•ï¸ Ø£Ø·Ø¨Ø§Ø¡ Ø§Ù„Ù…Ø±ÙƒØ²',
                members: [
                    { id: 1, name: 'Ø£.Ø¯ Ø·Ù„Ø§Ù„ Ø¹Ø§Ù…Ø±', role: 'Ø§Ø³ØªØ´Ø§Ø±ÙŠ Ø§Ù„Ø£Ø´Ø¹Ø© Ø§Ù„ØªØ´Ø®ÙŠØµÙŠØ©', avatar: 'Ø·', online: true },
                    { id: 2, name: 'Ø£.Ø¯ Ù…Ø­Ù…Ø¯ Ø£Ø¨Ùˆ Ø§Ù„Ø¹Ø·Ø§', role: 'Ø§Ø³ØªØ´Ø§Ø±ÙŠ Ø§Ù„Ø£Ø´Ø¹Ø©', avatar: 'Ù…', online: true },
                    { id: 3, name: 'Ø£.Ø¯ Ø£Ø­Ù…Ø¯ Ù‚Ù†Ø¯ÙŠÙ„', role: 'Ø§Ø³ØªØ´Ø§Ø±ÙŠ Ø§Ù„Ø£Ø´Ø¹Ø©', avatar: 'Ø£', online: false },
                    { id: 4, name: 'Ø£.Ø¯ Ø£Ø³Ø§Ù…Ø© Ø´ÙŠØ­Ø©', role: 'Ø§Ø³ØªØ´Ø§Ø±ÙŠ Ø§Ù„Ø£Ø´Ø¹Ø©', avatar: 'Ø³', online: true },
                    { id: 5, name: 'Ø£.Ø¯ Ø£Ø´Ø±Ù Ø¹Ø¨Ø¯ Ø§Ù„Ø±Ø­Ù…Ù†', role: 'Ø§Ø³ØªØ´Ø§Ø±ÙŠ Ø§Ù„Ø£Ø´Ø¹Ø©', avatar: 'Ø´', online: true },
                    { id: 6, name: 'Ø£.Ø¯ Ù†Ø§Ù‡Ø¯ Ø¹Ø¨Ø¯ Ø§Ù„Ø¬Ø§Ø¨Ø±', role: 'Ø§Ø³ØªØ´Ø§Ø±ÙŠØ© Ø§Ù„Ø£Ø´Ø¹Ø©', avatar: 'Ù†', online: false },
                    { id: 7, name: 'Ø£.Ø¯ Ø§ÙŠÙ‡Ø§Ø¨ Ø§Ù„Ø¹Ø±Ø§Ù‚Ù‰', role: 'Ø§Ø³ØªØ´Ø§Ø±ÙŠ Ø§Ù„Ø£Ø´Ø¹Ø©', avatar: 'ÙŠ', online: true },
                ]
            },
            {
                name: 'ğŸ‘¨â€ğŸ’¼ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©',
                members: [
                    { id: 8, name: 'Ø³Ø¹Ø¯ Ø¹Ø¨Ø¯Ù‡', role: 'Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø±ÙƒØ²', avatar: 'Ø¹', online: true },
                ]
            },
            {
                name: 'ğŸ‘¥ ÙØ±ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„',
                members: [
                    { id: 9, name: 'Ù…Ø­Ù…Ø¯ Ø³Ø¹ÙŠØ¯', role: 'ÙÙ†ÙŠ Ø£Ø´Ø¹Ø© Ø£ÙˆÙ„', avatar: 'Ø­', online: true },
                    { id: 10, name: 'Ø£Ø­Ù…Ø¯ Ø­Ø³Ù†', role: 'ÙÙ†ÙŠ Ø±Ù†ÙŠÙ† Ù…ØºÙ†Ø§Ø·ÙŠØ³ÙŠ', avatar: 'Ù‡', online: false },
                    { id: 11, name: 'ÙØ§Ø·Ù…Ø© Ø¹Ù„ÙŠ', role: 'ÙÙ†ÙŠØ© Ø£Ø´Ø¹Ø©', avatar: 'Ù', online: true },
                ]
            },
            {
                name: 'ğŸ“‹ Ø§Ù„Ø§Ø³ØªÙ‚Ø¨Ø§Ù„',
                members: [
                    { id: 12, name: 'Ø³Ø§Ø±Ø© Ø¥Ø¨Ø±Ø§Ù‡ÙŠÙ…', role: 'Ù…ÙˆØ¸ÙØ© Ø§Ø³ØªÙ‚Ø¨Ø§Ù„', avatar: 'Ø±', online: true },
                    { id: 13, name: 'Ù†ÙˆØ± Ù…Ø­Ù…ÙˆØ¯', role: 'Ù…ÙˆØ¸ÙØ© Ø§Ø³ØªÙ‚Ø¨Ø§Ù„', avatar: 'Ùˆ', online: true },
                ]
            }
        ];

        let currentMember = null;
        let messages = {};

        // Initialize messages for all members
        teamCategories.forEach(category => {
            category.members.forEach(member => {
                messages[member.id] = [];
            });
        });

        function renderTeamCategories() {
            const container = document.getElementById('teamCategories');
            container.innerHTML = teamCategories.map(category => `
                <div class="category">
                    <div class="category-header">
                        ${category.name}
                    </div>
                    ${category.members.map(member => `
                        <div class="team-member" onclick="selectMember(${member.id})">
                            <div class="avatar">${member.avatar}</div>
                            <div class="member-info">
                                <div class="member-name">${member.name}</div>
                                <div class="member-role">${member.role}</div>
                            </div>
                            <div class="status-indicator" style="background: ${member.online ? '#4ade80' : '#9ca3af'}; box-shadow: 0 0 0 3px ${member.online ? 'rgba(74, 222, 128, 0.2)' : 'rgba(156, 163, 175, 0.2)'}"></div>
                        </div>
                    `).join('')}
                </div>
            `).join('');
        }

        function findMemberById(id) {
            for (let category of teamCategories) {
                const member = category.members.find(m => m.id === id);
                if (member) return member;
            }
            return null;
        }

        function selectMember(memberId) {
            currentMember = findMemberById(memberId);
            
            // Update active state
            document.querySelectorAll('.team-member').forEach(el => {
                el.classList.remove('active');
            });
            event.currentTarget.classList.add('active');

            // Update chat header
            document.getElementById('headerAvatar').textContent = currentMember.avatar;
            document.getElementById('headerName').textContent = currentMember.name;
            document.getElementById('headerRole').textContent = currentMember.role;
            document.getElementById('headerStatus').textContent = currentMember.online ? 'ğŸŸ¢ Ù…ØªØµÙ„ Ø§Ù„Ø¢Ù†' : 'âšª ØºÙŠØ± Ù…ØªØµÙ„';

            // Enable input
            document.getElementById('messageInput').disabled = false;
            document.getElementById('sendBtn').disabled = false;
            document.getElementById('messageInput').focus();

            // Render messages
            renderMessages();
        }

        function renderMessages() {
            const container = document.getElementById('chatMessages');
            const memberMessages = messages[currentMember.id];

            if (memberMessages.length === 0) {
                container.innerHTML = `
                    <div class="welcome-screen">
                        <div class="welcome-icon">ğŸ‘‹</div>
                        <h2>Ø§Ø¨Ø¯Ø£ Ù…Ø­Ø§Ø¯Ø«Ø© Ù…Ø¹ ${currentMember.name}</h2>
                        <p>Ø§ÙƒØªØ¨ Ø±Ø³Ø§Ù„ØªÙƒ Ø§Ù„Ø£ÙˆÙ„Ù‰ ÙÙŠ Ø§Ù„Ø£Ø³ÙÙ„</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = memberMessages.map(msg => `
                <div class="message ${msg.sent ? 'sent' : 'received'}">
                    <div class="message-avatar">${msg.sent ? 'Ø£' : currentMember.avatar}</div>
                    <div class="message-content">
                        <div>${msg.text}</div>
                        <div class="message-time">${msg.time}</div>
                    </div>
                </div>
            `).join('');

            // Scroll to bottom
            container.scrollTop = container.scrollHeight;
        }

        function sendMessage() {
            const input = document.getElementById('messageInput');
            const text = input.value.trim();

            if (!text || !currentMember) return;

            const now = new Date();
            const time = now.toLocaleTimeString('ar-EG', { hour: '2-digit', minute: '2-digit' });

            // Add user message
            messages[currentMember.id].push({
                text: text,
                time: time,
                sent: true
            });

            input.value = '';
            renderMessages();

            // Simulate response after 1-2 seconds if online
            if (currentMember.online) {
                setTimeout(() => {
                    const responses = [
                        'Ø´ÙƒØ±Ø§Ù‹ Ù„ØªÙˆØ§ØµÙ„ÙƒØŒ ÙƒÙŠÙ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ù…Ø³Ø§Ø¹Ø¯ØªÙƒØŸ',
                        'Ø£Ù‡Ù„Ø§Ù‹ Ø¨ÙƒØŒ Ø£Ù†Ø§ ÙÙŠ Ø§Ù„Ø®Ø¯Ù…Ø©',
                        'ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø±Ø³Ø§Ù„ØªÙƒØŒ Ø³Ø£Ø±Ø¯ Ø¹Ù„ÙŠÙƒ ÙÙˆØ±Ø§Ù‹',
                        'Ù…Ø±Ø­Ø¨Ø§Ù‹ØŒ ØªÙØ¶Ù„ ÙƒÙŠÙ Ø£Ø³Ø§Ø¹Ø¯ÙƒØŸ',
                        'Ù†Ø¹Ù…ØŒ Ø£Ù†Ø§ Ù‡Ù†Ø§',
                        'Ø³Ø£ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø£Ù…Ø± ÙˆØ£Ø¹ÙˆØ¯ Ø¥Ù„ÙŠÙƒ',
                        'Ø¨Ø§Ù„ØªØ£ÙƒÙŠØ¯ØŒ ÙŠÙ…ÙƒÙ†Ù†ÙŠ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©'
                    ];
                    
                    const response = responses[Math.floor(Math.random() * responses.length)];
                    const responseTime = new Date().toLocaleTimeString('ar-EG', { hour: '2-digit', minute: '2-digit' });
                    
                    messages[currentMember.id].push({
                        text: response,
                        time: responseTime,
                        sent: false
                    });
                    
                    renderMessages();
                }, 1000 + Math.random() * 1500);
            }
        }

        // Event listeners
        document.getElementById('sendBtn').addEventListener('click', sendMessage);
        document.getElementById('messageInput').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendMessage();
        });

        // Initialize
        renderTeamCategories();
    </script>
</body>
</html>
